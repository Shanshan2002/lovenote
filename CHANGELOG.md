# 更新日志

## [1.2.0] - 2024-11-21 (Final Release)

### 🚨 关键修复
- **内存泄漏**：修复拖拽事件监听器泄漏（每个卡片都返回清理函数）
- **内存泄漏**：修复动画interval未清理问题
- **安全漏洞**：修复XSS攻击风险（使用DOM API替代innerHTML）
- **安全漏洞**：修复JSON.stringify注入风险
- **资源管理**：添加完整的清理机制

### 🔧 代码优化
- 事件监听器生命周期管理
- 资源清理机制完善
- 函数作用域优化
- 移除未使用变量

### 🌐 国际化
- 所有系统提示改为英文
- 统一用户界面语言

### ⚙️ 配置优化
- 端口统一为8080（本地和Railway）
- Railway完美兼容

## [1.1.0] - 2024-11-21

### 🔧 优化改进
- 修复事件监听器泄漏问题
- 替换废弃的document.execCommand API
- 增强XSS安全防护
- 添加输入验证和长度限制（用户名: 50，消息: 5000）
- 修复内存泄漏问题
- 优化拖拽性能
- 改进错误处理

### ✨ 新功能
- 虚拟输入系统（支持所有输入法）
- 消息内容副本机制
- 完整的清理函数返回

### 🐛 Bug修复
- 修复中文输入法光标跳动
- 修复发送消息失败问题
- 修复文字消失问题
- 修复拖拽速度过快

## [1.0.0] - 2024-11-20

### 初始版本
- 基础消息功能
- 复古寻呼机界面
- 用户系统
- 拖拽消息卡片
- 打字机动画效果
