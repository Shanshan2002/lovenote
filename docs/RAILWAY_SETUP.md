# ğŸš‚ Railway éƒ¨ç½²æŒ‡å—

## ğŸ¯ å®Œæ•´éƒ¨ç½²æµç¨‹

### ä¸€é”®éƒ¨ç½²è„šæœ¬

```bash
./scripts/deploy-to-railway.sh
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. âœ… å¤‡ä»½æœ¬åœ°æ•°æ®
2. âœ… å¯¼å‡ºæ•°æ®å‰¯æœ¬
3. âœ… æ£€æŸ¥GitçŠ¶æ€
4. âœ… æ¨é€åˆ°GitHub
5. âœ… è§¦å‘Railwayè‡ªåŠ¨éƒ¨ç½²
6. âœ… ç­‰å¾…éƒ¨ç½²å®Œæˆ
7. âœ… éªŒè¯éƒ¨ç½²çŠ¶æ€
8. âœ… æä¾›æ•°æ®è¿ç§»è¯´æ˜

---

## ğŸ“‹ æ‰‹åŠ¨éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤ 1ï¼šè¿æ¥GitHub

1. è®¿é—® [Railway.app](https://railway.app/)
2. ä½¿ç”¨GitHubç™»å½•
3. ç‚¹å‡» **New Project**
4. é€‰æ‹© **Deploy from GitHub repo**
5. é€‰æ‹© `Shanshan2002/lovenote`

### æ­¥éª¤ 2ï¼šé…ç½®ç¯å¢ƒå˜é‡

åœ¨Railwayä»ªè¡¨æ¿ï¼š

**Settings â†’ Variables**
```
PORT=8080  ï¼ˆRailwayä¼šè‡ªåŠ¨è®¾ç½®ï¼‰
NODE_ENV=production
```

### æ­¥éª¤ 3ï¼šé…ç½®æŒä¹…åŒ–å·ï¼ˆé‡è¦ï¼ï¼‰

**Settings â†’ Volumes â†’ Add Volume**

**å·1ï¼šæ•°æ®å­˜å‚¨**
```
Name: data
Mount Path: /app/data
Size: 1GB
```

**å·2ï¼šå¤‡ä»½å­˜å‚¨**
```
Name: backups
Mount Path: /app/data-backups
Size: 1GB
```

### æ­¥éª¤ 4ï¼šéƒ¨ç½²

ç‚¹å‡» **Deploy** æŒ‰é’®ï¼ŒRailwayä¼šè‡ªåŠ¨ï¼š
- æ‹‰å–GitHubä»£ç 
- å®‰è£…ä¾èµ– (`npm install`)
- å¯åŠ¨æœåŠ¡å™¨ (`npm start`)

---

## ğŸ”„ è‡ªåŠ¨éƒ¨ç½²

### GitHub â†’ Railway è‡ªåŠ¨åŒæ­¥

ä¸€æ—¦é…ç½®å®Œæˆï¼Œæ¯æ¬¡æ¨é€åˆ°GitHubéƒ½ä¼šè‡ªåŠ¨è§¦å‘Railwayéƒ¨ç½²ï¼š

```bash
git push origin main
# Railwayè‡ªåŠ¨æ£€æµ‹å¹¶éƒ¨ç½²ï¼ˆ1-3åˆ†é’Ÿï¼‰
```

### ç›‘æ§éƒ¨ç½²

åœ¨Railwayä»ªè¡¨æ¿ï¼š
- **Deployments** æ ‡ç­¾ï¼šæŸ¥çœ‹éƒ¨ç½²å†å²
- **Logs** æ ‡ç­¾ï¼šæŸ¥çœ‹å®æ—¶æ—¥å¿—
- **Metrics** æ ‡ç­¾ï¼šæŸ¥çœ‹æ€§èƒ½æŒ‡æ ‡

---

## ğŸ“Š æ•°æ®ç®¡ç†

### Railwayæ•°æ®æ˜¯ç‹¬ç«‹çš„

```
æœ¬åœ°ç¯å¢ƒ  â†’  ç‹¬ç«‹æ•°æ®åº“
   â†“
GitHub    â†’  åªæœ‰ä»£ç 
   â†“
Railway   â†’  ç‹¬ç«‹æ•°æ®åº“
```

### åœ¨Railwayåˆ›å»ºç”¨æˆ·

**æ–¹æ³•1ï¼šé€šè¿‡ç½‘ç«™æ³¨å†Œ**
1. è®¿é—®: https://lovenote-production.up.railway.app/
2. ç‚¹å‡» **REGISTER**
3. åˆ›å»ºè´¦æˆ·ï¼ˆç¬¬ä¸€ä¸ªç”¨æˆ·è‡ªåŠ¨æˆä¸ºç®¡ç†å‘˜ï¼‰

**æ–¹æ³•2ï¼šä½¿ç”¨Railway CLI**
```bash
# å®‰è£…CLI
npm install -g @railway/cli

# ç™»å½•
railway login

# è¿æ¥é¡¹ç›®
railway link

# æ‰“å¼€Shell
railway run bash

# åœ¨Railwayç¯å¢ƒä¸­åˆ›å»ºç”¨æˆ·
```

---

## ğŸ›¡ï¸ æŒä¹…åŒ–é…ç½®

### ä¸ºä»€ä¹ˆéœ€è¦æŒä¹…åŒ–å·ï¼Ÿ

**æ²¡æœ‰æŒä¹…åŒ–å·ï¼š**
- âŒ é‡å¯åæ•°æ®ä¸¢å¤±
- âŒ é‡æ–°éƒ¨ç½²åç”¨æˆ·æ¸…ç©º
- âŒ æ¶ˆæ¯å†å²æ¶ˆå¤±

**æœ‰æŒä¹…åŒ–å·ï¼š**
- âœ… æ•°æ®æ°¸ä¹…ä¿å­˜
- âœ… é‡å¯åæ•°æ®ä¿ç•™
- âœ… éƒ¨ç½²åç”¨æˆ·ä¿ç•™

### é…ç½®æŒä¹…åŒ–å·

```
Settings â†’ Volumes â†’ Add Volume

Volume 1:
  Name: data
  Mount Path: /app/data
  
Volume 2:
  Name: backups
  Mount Path: /app/data-backups
```

---

## ğŸ” éªŒè¯éƒ¨ç½²

### æ£€æŸ¥RailwayçŠ¶æ€

```bash
# æ£€æŸ¥ç½‘ç«™å¯è®¿é—®
curl https://lovenote-production.up.railway.app/

# æ£€æŸ¥API
curl https://lovenote-production.up.railway.app/api/users

# æ£€æŸ¥ç‰ˆæœ¬
curl https://lovenote-production.up.railway.app/ | grep version
```

### Railwayä»ªè¡¨æ¿æ£€æŸ¥

1. **Deployments** â†’ ç¡®è®¤æœ€æ–°éƒ¨ç½²æˆåŠŸ
2. **Logs** â†’ æŸ¥çœ‹å¯åŠ¨æ—¥å¿—
3. **Metrics** â†’ æŸ¥çœ‹CPU/å†…å­˜ä½¿ç”¨
4. **Settings** â†’ ç¡®è®¤ç¯å¢ƒå˜é‡å’Œå·é…ç½®

---

## ğŸš€ éƒ¨ç½²æœ€ä½³å®è·µ

### å¼€å‘æµç¨‹

```bash
# 1. æœ¬åœ°å¼€å‘å’Œæµ‹è¯•
npm start
# æµ‹è¯•åŠŸèƒ½

# 2. å¤‡ä»½æœ¬åœ°æ•°æ®
./scripts/backup-data.sh

# 3. æäº¤å¹¶æ¨é€
git add -A
git commit -m "Feature: æ–°åŠŸèƒ½æè¿°"
git push origin main

# 4. Railwayè‡ªåŠ¨éƒ¨ç½²
# ç­‰å¾…1-3åˆ†é’Ÿ

# 5. éªŒè¯Railway
è®¿é—®: https://lovenote-production.up.railway.app/
```

### ä½¿ç”¨ä¸€é”®éƒ¨ç½²è„šæœ¬

```bash
./scripts/deploy-to-railway.sh
```

è‡ªåŠ¨å®Œæˆæ‰€æœ‰æ­¥éª¤ï¼

---

## ğŸ†˜ æ•…éšœæ’é™¤

### éƒ¨ç½²å¤±è´¥

**æ£€æŸ¥æ—¥å¿—ï¼š**
1. Railwayä»ªè¡¨æ¿ â†’ Logs
2. æŸ¥çœ‹é”™è¯¯ä¿¡æ¯

**å¸¸è§é—®é¢˜ï¼š**
```
Port already in use â†’ Railwayä¼šè‡ªåŠ¨å¤„ç†
Module not found â†’ æ£€æŸ¥package.json
Syntax error â†’ æ£€æŸ¥ä»£ç è¯­æ³•
```

### æ•°æ®ä¸¢å¤±

**åŸå› ï¼š**
- æ²¡æœ‰é…ç½®æŒä¹…åŒ–å·
- é‡æ–°éƒ¨ç½²æ¸…ç©ºäº†ä¸´æ—¶æ–‡ä»¶

**è§£å†³ï¼š**
1. é…ç½®æŒä¹…åŒ–å·ï¼ˆè§ä¸Šæ–‡ï¼‰
2. é‡æ–°åˆ›å»ºç”¨æˆ·

### æ— æ³•è®¿é—®

**æ£€æŸ¥ï¼š**
1. Railwayéƒ¨ç½²çŠ¶æ€ï¼ˆDeploymentsæ ‡ç­¾ï¼‰
2. åŸŸåé…ç½®ï¼ˆSettings â†’ Domainsï¼‰
3. ç½‘ç»œè¿æ¥

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### Railwayä¼˜åŒ–å»ºè®®

1. **å¯ç”¨æŒä¹…åŒ–å·** - æ•°æ®ä¸ä¸¢å¤±
2. **é…ç½®ç¯å¢ƒå˜é‡** - NODE_ENV=production
3. **ç›‘æ§æ—¥å¿—** - åŠæ—¶å‘ç°é—®é¢˜
4. **å®šæœŸå¤‡ä»½** - è™½ç„¶æœ‰å·ï¼Œä»å»ºè®®å®šæœŸå¯¼å‡º

### æ‰©å±•é€‰é¡¹

å¦‚æœæµé‡å¢å¤§ï¼š
1. Railwayä¼šè‡ªåŠ¨æ‰©å±•
2. å¯å‡çº§Railwayè®¡åˆ’
3. è€ƒè™‘æ·»åŠ CDN

---

## ğŸ“ ç¯å¢ƒå¯¹æ¯”

| ç‰¹æ€§ | æœ¬åœ°å¼€å‘ | Railwayç”Ÿäº§ |
|------|---------|------------|
| URL | localhost:8080 | railway.appåŸŸå |
| æ•°æ® | æœ¬åœ°æ–‡ä»¶ | æŒä¹…åŒ–å· |
| æ›´æ–° | æ‰‹åŠ¨é‡å¯ | è‡ªåŠ¨éƒ¨ç½² |
| å¤‡ä»½ | è‡ªåŠ¨+æ‰‹åŠ¨ | éœ€é…ç½®å· |
| è®¿é—® | ä»…æœ¬åœ° | å…¨çƒè®¿é—® |

---

## âœ… éƒ¨ç½²æ£€æŸ¥æ¸…å•

éƒ¨ç½²å‰ï¼š
- [ ] æœ¬åœ°æµ‹è¯•é€šè¿‡
- [ ] æ•°æ®å·²å¤‡ä»½
- [ ] ä»£ç å·²æäº¤

Railwayé…ç½®ï¼š
- [ ] GitHubå·²è¿æ¥
- [ ] æŒä¹…åŒ–å·å·²é…ç½®
- [ ] ç¯å¢ƒå˜é‡å·²è®¾ç½®

éƒ¨ç½²åï¼š
- [ ] ç½‘ç«™å¯è®¿é—®
- [ ] APIæ­£å¸¸å·¥ä½œ
- [ ] å¯ä»¥æ³¨å†Œç”¨æˆ·
- [ ] å¯ä»¥å‘é€æ¶ˆæ¯

---

## ğŸŒ è®¿é—®åœ°å€

- **æœ¬åœ°å¼€å‘:** http://localhost:8080
- **Railwayç”Ÿäº§:** https://lovenote-production.up.railway.app/
- **GitHubä»“åº“:** https://github.com/Shanshan2002/lovenote

---

*æœ€åæ›´æ–°: 2025-11-21*  
*ç‰ˆæœ¬: v1.2*
